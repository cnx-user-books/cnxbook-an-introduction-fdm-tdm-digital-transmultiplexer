<document xmlns="http://cnx.rice.edu/cnxml" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:bib="http://bibtexml.sf.net/">
  <title>General Design Principles</title>
  <metadata xmlns:md="http://cnx.rice.edu/mdml">
  <md:content-id>m32640</md:content-id>
  <md:title>General Design Principles</md:title>
  <md:abstract/>
  <md:uuid>a0bcf3ba-2e9c-4ef6-aec9-572ff08b1723</md:uuid>
</metadata>

<content>
    <para id="id175194">There is a very large number of considerations that affect the selection of the best method of frequency-division demultiplexing signals in a particular application. As a result, it is virtually impossible to provide a simple <emphasis effect="italics">cookbook</emphasis> methodology that always produces the best design. Even so, it is useful to systematically describe the design issues and choices evaluated so far in this technical note. Such a description, condensed into a design flowchart, is discussed in this section. Comparison of it with the design examples provided in the section <link document="m32638">"Example: Using an FDM-TDM Transmux to Demodulate R.35 Telegraphy Signals"</link> and the section <link document="m32668">"The Impact of Digital Tuning on the Overall design of an FDM-TDM Transmux"</link> shows excellent agreement. But while it is intended to be helpful, it must be used with care since relatively small differences in the application-dependent assumptions can influence the resulting choices quite considerably.</para>
    <para id="id175213">The decision flowchart presented in <link target-id="uid1"/> assumes that the generalized demultiplexer has the block diagram shown in <link target-id="uid2"/>. The system accepts <m:math overflow="scroll"><m:msub><m:mi>N</m:mi><m:mrow><m:mi>i</m:mi><m:mi>n</m:mi></m:mrow></m:msub></m:math> digitized FDM signals, all sampled at <m:math overflow="scroll"><m:msub><m:mi>f</m:mi><m:mrow><m:mi>i</m:mi><m:mi>n</m:mi></m:mrow></m:msub></m:math> Hz. These are made available to <emphasis effect="italics">N<sub>t</sub></emphasis> digital tuners. All of these tuners are of the same design, employ the same decimation factor <emphasis effect="italics">M<sub>p</sub></emphasis> and produce output samples at the same rate of <emphasis effect="italics">f<sub>s</sub></emphasis> Hz. The tuner outputs are transmultiplexed, sending their output channel samples to a bus, which up to <emphasis effect="italics">N<sub>u</sub></emphasis> user processes have access to. Since each transmux is fed by a tuner, there are <emphasis effect="italics">N<sub>t</sub></emphasis> transmuxes, each parameterized by <m:math overflow="scroll"><m:mrow><m:mi>Q</m:mi><m:mo>,</m:mo><m:mi>N</m:mi></m:mrow></m:math>, and <emphasis effect="italics">M</emphasis>.</para>
    <para id="id175341">On the one hand, this architecture is not perfectly general, since parameters such as filter bandwidths are assumed to be identical, but it is representative of a very complex transmultiplexer-based system. On the other hand, it can be simplified considerably, by allowing <m:math overflow="scroll"><m:msub><m:mi>N</m:mi><m:mrow><m:mi>i</m:mi><m:mi>n</m:mi></m:mrow></m:msub></m:math> or <emphasis effect="italics">N<sub>t</sub></emphasis> to be unity for instance, and still be reasonably described by the flowchart.</para>
    <figure id="uid1"><media id="uid1_media" alt="Figure 1 is a flow chart that moves from top to bottom. The top is an arrow pointing down, labeled Enter. The arrow points at a diamond, containing the caption Is a TMUX Appropriate?. To the right is an arrow labeled No, pointing to the right at the caption Exit. Below the arrow are the following bullet points: Filters need different bandwidths, channels not regularly spaced, and insufficient contiguous channels. Pointing down from the diamond is an arrow labeled yes. The arrow points at a second diamond, containing the caption Is a Digital Tuner Needed? To the right is the yes option, with the following bullet points beside it: Only a subband needs to be dechannelized, synchronous or asynchronous resampling required. Below this, the line for option yes continues down to another caption that reads Usually implies complex-valued TMUX input. Then the line continues to a point below the digital tuner diamond. The No option is to the left, with the following captions: Full bandwidth to be processed, usually implies real input. The no option connect back to the yes option, and below the diamond and the lines that come out of the options is another arrow pointing below to another diamond containing the question Use TMUX with Complex-Valued Output? The Yes option goes to the right, with the statement Follow-on processing done most efficiently with complex-valued data (for example, FFT, modern processing). The No option goes to the left, with the caption Virtually all channels needed simultaneously in real-valued form. The yes and no options reconnect to the flow chart moving downward to a rectangle that contains the caption Perform Preliminary TMUX Design. To the right of the rectangle is the title Establish, and the bullet points, complex/real input, complex/real output, and tuner/tuner. Below the rectangle is an arrow pointing downward, and to the right of this arrow is the caption Results: ∆f, B, Q, f_out. The arrow points to a diamond that includes the caption, Tuners? The yes option is below, followed by the rectangle Optimize at System Level to Determine N_t and B_t. To the right of this rectangle is the caption Results: N_t, B_t. Below this rectangle is another rectangle with the caption Optimize Combination of Tuner and TMUX Design, with results to the side as  f_s, L_t, and M_t. The No option to the Tuners? diamond goes off to the left, contains the caption f_s = f_in, and is drawn down to continue the flow after the Optimize Combination of Tuner and TMUX Design rectangle. After this rectangle is a final rectangle that contains the caption Finish TMUX Design. It contains the caption Results: M, N, L, h(k) to the right, and below the rectangle is a final arrow pointing down, labeled Complete.">
        <image mime-type="image/png" src="../../media/fig23.png" id="uid1_onlineimage" width="500"><!-- NOTE: attribute width changes image size online (pixels). original width is 2747. --></image>
        <image for="pdf" mime-type="application/postscript" src="../../media/fig23.eps" id="uid1_printimage"/>
      </media>
      
    <caption>Flowchart for Determining the Applicability of Transmultiplexing to a Frequency-Division Demultiplexing Problem</caption></figure>
    <figure id="uid2"><media id="uid2_media" alt="Figure two is a flow chart. It begins on the right with two arrows pointing to the right. The arrow on top is labeled Digital Input 1, and the arrow below is labeled N_in f_in. There are four black dots vertically aligned in between the two initial arrows. The arrows point at a rectangle containing the caption Digital Cross-connect Switch. Following this rectangle are two arrows pointing at two more rectangles. In between the arrows are four aligned black dots. The box that the upper arrow points to is labeled Digital Tuner 1, and the box that the lower arrow points to is labeled Digital Tuner N_t. Below the lower rectangle is the expression L_t, M_t. In between these rectangles are eight aligned black dots . Each rectangle is followed by an arrow pointing to the right at another set of rectangles. The arrows are both labeled with the caption B_t and f_s. The rectangle on top that follows the arrow is labeled FDM-TDM TMUX 1. The rectangle on the bottom that follows the arrow is labeled  FDM-TDM TMUX N_t. These two rectangles are followed by two arrows that point at one single long rectangle titled Channel Bus. There are three arrows exiting channel bus to the right at three rectangles, labeled User 1, user 2, and user N_u. Following these rectangles are dashed arrows pointing both left and right.">
        <image mime-type="image/png" src="../../media/fig24.png" id="uid2_onlineimage" width="500"><!-- NOTE: attribute width changes image size online (pixels). original width is 2663. --></image>
        <image for="pdf" mime-type="application/postscript" src="../../media/fig24.eps" id="uid2_printimage"/>
      </media>
      
    <caption>Generic Block Diagram of an FDM Demultiplexer Requiring Digital Input Switching, Tuning, and Demultiplexing</caption></figure>
    <para id="id175402">The flowchart is shown in <link target-id="uid1"/>. While perhaps self-explanatory, some commentary is provided for the faint-hearted.</para>
    <list id="id175406" display="block" list-type="bulleted"><item id="uid3">The first step is to determine whether an FDM-TDM transmultiplexer is really needed for the application. Generalizing wildly, a transmultiplexer is the right choice if three conditions are met:
<list id="id175422" display="block" list-type="enumerated" number-style="lower-alpha"><item id="uid4">It is desired to simultaneously demultiplex a reasonably large (for example, 10 or more) number of contiguous channels from an FDM signal
</item><item id="uid5">They are regularly spaced in frequency
</item><item id="uid6">The same filter can be used for all of them without harm to the signals
</item></list>
If these conditions aren't met, then altemative schemes, such as separate tuners for the desired channels, should be considered.
</item>
      <item id="uid7">Once it is determined that a transmultiplexer is needed, the next question is whether some form of digital tuner is needed to precede it. As a rule, no tuner is needed if:
<list id="id175485" display="block" list-type="enumerated" number-style="lower-alpha"><item id="uid8">It is desired to demultiplex all of the channels seen in the full bandwidth of the input
</item>
<item id="uid9">The input signal is sampled at a suitable rate
</item></list>
If resampling is needed, or if only a subband of the input signal's bandwidth is to be dechannelized, then a tuner is called for. Usually the use of a digital tuner leads to the use of a transmultiplexer that accepts complex-valued data while the absence of a tuner implies the use of a transmux that accepts real-valued data.
</item>
      <item id="uid10">The last major question is whether the outputs of the transmultiplexer should be real- or complex-valued. This usually depends completely on the processes using the transmultiplexer outputs. In some cases, such as commercial telephony (see the example in Appendix C), the outputs are desired to be in real-valued form so that they can be switched or formatted for TDM/PCM transmission. In other applications, however, particularly those that involve signal processing (for example, spectrum analysis), the use of complex-valued outputs is desired.
</item>
      <item id="uid11">With these fundamental system-level questions answered, the preliminary design of the transmultiplexer itself can begin. Based on the channel spacing, the desired filter frequency response, and the nature of the follow-on processing, such parameters as <m:math overflow="scroll"><m:mrow><m:mi>Δ</m:mi><m:mi>f</m:mi><m:mo>,</m:mo><m:mi>B</m:mi><m:mo>,</m:mo><m:mi>Q</m:mi></m:mrow></m:math>, and <m:math overflow="scroll"><m:msub><m:mi>f</m:mi><m:mrow><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>t</m:mi></m:mrow></m:msub></m:math> can be determined by using the rules presented in the section <link document="m32670">"Derivation of the equations for a Basic FDM-TDM Transmux"</link>.
</item>
      <item id="uid12">If no tuners are needed, then the design of the transmux can be completed by determining <m:math overflow="scroll"><m:mrow><m:mi>M</m:mi><m:mo>,</m:mo><m:mi>N</m:mi><m:mo>,</m:mo><m:mi>L</m:mi></m:mrow></m:math>, and the pulse response <m:math overflow="scroll"><m:mrow><m:mi>h</m:mi><m:mo>(</m:mo><m:mi>k</m:mi><m:mo>)</m:mo></m:mrow></m:math>. If tuners are needed, then the tradeoffs between the tuner and transmultiplexer design must be performed in order to know enough to finish the design of the transmux itself. The first step in this tradeoff is to determine the number of tuners <emphasis effect="italics">N<sub>t</sub></emphasis> and their bandwidths <emphasis effect="italics">B<sub>t</sub></emphasis>. The second step, given <emphasis effect="italics">B<sub>t</sub></emphasis>, is the tradeoff identified in Section 5, which leads to the choice of the transmux input sampling rate <emphasis effect="italics">f<sub>s</sub></emphasis>, and hence <emphasis effect="italics">L<sub>t</sub></emphasis> and <emphasis effect="italics">M<sub>t</sub></emphasis>.
</item>
    </list>
    <para id="id175912">Of these two steps, the first is often the more difficult since the optimization may be based on non-mathematical considerations. An example of this is the case in which a large number of contiguous FDM channels need to be demultiplexed from an even larger input band. Should there be a few tuners of large bandwidth or more with narrower bandwidth? A purely mathematical optimization using an objective function such as the number of multiply-adds will conclude that the former is better, while a user might prefer the selectivity (for example, <emphasis effect="italics">cherry picking</emphasis>) afforded by a multitude of narrower tuners.</para>
  </content>
  <bib:file/>
</document>